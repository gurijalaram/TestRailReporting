/*
 * This file was generated by the Gradle 'init' task.
 */

//Utils
//Default modules initialization
//include(':utils')
//include('::shared-util')
include(':serialization-util')
include(':shared-util')
include(':web-app-util')
include(':db')

final String[] microservicesModules = ["acs-api", "ats-api", "cas-api", "cds-api", "cid-api", "cir-api", "css-api",
                                       "bcs-api", "edc-api", "fms-api", "nts-api", "vds-api", "sds-api", "cis-api",
                                       "cic-api","qds-api", "dds-api", "qms-api", "dms-api", "cus-api", "ach-api",
                                       "gcd-api", "cmp-api", "cnh-api", "dfs-api", "bcm-api", "report-api"]
final String[] webModules = ["ach-ui", "auth-ui", "cas-ui", "cia-ui", "cic-ui", "cid-ui", "cir-ui", "edc-ui", "cis-ui"]
final String[] intModules = ["integration"]

Map<String, String[]> buildConfigurations = new HashMap<String, String[]>() {
    {
        put("microservices", microservicesModules)
        put("web", webModules)
        put("integrate", intModules)
    }
}
final String configuration = System.getProperty("conf")

if (configuration != null) {
    final String[] buildModules = buildConfigurations.get(configuration)

    for (int i = 0; i < buildModules.length; i++) {
        final String moduleName = buildModules[i]

        println("Building module: " + moduleName)
        includeProject(String.format(":%s:%s", configuration, moduleName), String.format("../%s/%s", configuration, moduleName))
    }

} else {

    //Microservices
    include(':microservices:acs-api')
    include(':microservices:ats-api')
    include(':microservices:cas-api')
    include(':microservices:cds-api')
    include(':microservices:cid-api')
    include(':microservices:cir-api')
    include(':microservices:css-api')
    include(':microservices:bcs-api')
    include(':microservices:edc-api')
    include(':microservices:fms-api')
    include(':microservices:nts-api')
    include(':microservices:vds-api')
    include(':microservices:sds-api')
    include(':microservices:cis-api')
    include(':microservices:cic-api')
    include(':microservices:qds-api')
    include(':microservices:dds-api')
    include(':microservices:dms-api')
    include(':microservices:qms-api')
    include(':microservices:cus-api')
    include(':microservices:ach-api')
    include(':microservices:gcd-api')
    include(':microservices:cmp-api')
    include(':microservices:dfs-api')
    include(':microservices:cnh-api')
    include(':microservices:bcm-api')
    include(':microservices:report-api')

    //Web
    include ':web:ach-ui'
    include ':web:auth-ui'
    include ':web:cia-ui'
    include ':web:cir-ui'
    include ':web:cid-ui'
    include ':web:cic-ui'
    include ':web:cas-ui'
    include ':web:edc-ui'
    include ':web:cis-ui'

    //integration
    include ':integrate:integration'
}

void includeProject(final String includePath, final String filePath) {
    include(includePath)
    project(includePath).projectDir = file(filePath)
}

