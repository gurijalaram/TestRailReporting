<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
                                         "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
	<session-factory>
		<property name="hibernate.dialect">com.fbc.util.sqlserver.AprioriSQLServerDialect</property>
		<property name="hibernate.connection.driver_class">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>
		<property name="hibernate.connection.url">jdbc:sqlserver://localhost:1433;databaseName=apriori_r89633</property>
		<property name="hibernate.connection.username">apriori</property>
		<property name="hibernate.connection.password">apriori</property>
		<property name="hibernate.connection.dbname">apriori_r89633</property>
		<!-- <property name="hibernate.transaction.factory_class">org.hibernate.transaction.JDBCTransactionFactory</property> -->
		<!-- Builtin JDBC connection pool off -->
		<property name="hibernate.connection.pool_size">0</property>

		<!-- change this to control how connection is released, default is auto -->
		<!-- <property name="hibernate.connection.release_mode">on_close</property> 
			<property name="hibernate.connection.release_mode">after_transaction</property> -->
		<property name="hibernate.connection.autocommit">true</property>
		<!-- true logs sql to stdout, use log4j.logger.org.hibernate.SQL=debug 
			in log4j.properties for log output -->
		<property name="hibernate.show_sql">false</property>
		<property name="hibernate.format_sql">false</property>
		<!-- <property name="hibernate.connection.isolation">2</property> -->
		<property name="hibernate.connection.provider_class">com.fbc.util.c3p0.AprioriConnectionProvider</property>
		<!-- C3P0 connection pool properties. Set max_size to 0 if connection pool 
			needs to be disabled. In that case release_mode should be set to on_close. -->
		<property name="hibernate.c3p0.max_size">10</property>
		<property name="hibernate.c3p0.max_statements">50</property>
		<property name="hibernate.c3p0.min_size">0</property>
		<property name="hibernate.c3p0.acquire_increment">1</property>
		<property name="hibernate.max_fetch_depth">5</property>
		<property name="hibernate.generate_statistics">false</property>

		<property name="hibernate.c3p0.acquireRetryAttempts">5</property>
		<property name="hibernate.c3p0.checkoutTimeout">10000</property>

		<!-- <property name="hibernate.c3p0.validate">true</property> <property 
			name="hibernate.connection.defaultRowPrefetch">95</property> -->
		<property name="hibernate.c3p0.preferredTestQuery">SELECT 1</property>
		<property name="hibernate.c3p0.connectionCustomizerClassName">com.fbc.util.c3p0.AprioriConnectionCustomizer</property>
		<property name="hibernate.c3p0.connectionTesterClassName">com.fbc.util.c3p0.AprioriConnectionTester</property>
		<property name="hibernate.c3p0.testConnectionOnCheckin">true</property>
		<property name="hibernate.c3p0.testConnectionOnCheckout">false</property>
		<property name="hibernate.c3p0.maxConnectionAge">0</property>
		<property name="hibernate.c3p0.idleConnectionTestPeriod">60</property>
		<property name="hibernate.c3p0.maxIdleTime">60</property>
		<property name="hibernate.c3p0.propertyCycle">60</property>
		<property name="hibernate.c3p0.numHelperThreads">16</property>
		<property name="hibernate.c3p0.maxAdministrativeTaskTime">0</property>
		<property name="hibernate.order_inserts">true</property>
		<property name="hibernate.order_update">true</property>
		<property name="hibernate.jdbc.batch_size">100</property>

		<property name="apriori.dbflavor">mssql</property>
		<event type="delete">
			<listener
				class="com.fbc.util.hibernate.AprioriDeleteEventListener" />
		</event>
	</session-factory>
</hibernate-configuration>
